                   panel = function(...){
                       panel.xyplot(...,
                                    type = c("g", "l"))
                   },
                   main = gsub("SUA\\.csv", "", i))
        print(yieldPlot)


        yieldPlot =
            xyplot(log(yieldImputed) + log(yieldValue) ~ year|areaName,
                   data = commodityRaw.dt, auto.key = TRUE,
                   K = commodityRaw.dt$yieldImputed,
                   ## subscripts = TRUE, scales = list(y = "free"),
                   ## prepanel = function(..., K, subscripts){
                   ##     list(ylim = c(0, max(c(0, K[subscripts]),
                   ##              na.rm = TRUE)))
                   ##     },
                   panel = function(...){
                       panel.xyplot(...,
                                    type = c("g", "l"))
                   },
                   main = gsub("SUA\\.csv", "", i))
        print(yieldPlot)


        yieldPlot =
            xyplot(yieldImputed + yieldValue ~ year|areaName,
                   data = commodityRaw.dt, auto.key = TRUE,
                   K = commodityRaw.dt$yieldImputed,
                   ## subscripts = TRUE, scales = list(y = "free"),
                   ## prepanel = function(..., K, subscripts){
                   ##     list(ylim = c(0, max(c(0, K[subscripts]),
                   ##              na.rm = TRUE)))
                   ##     },
                   panel = function(...){
                       panel.xyplot(...,
                                    type = c("g", "l"))
                   },
                   main = gsub("SUA\\.csv", "", i))
        print(yieldPlot)

exp(1)

        yieldPlot =
            xyplot(yieldImputed + yieldValue ~ year|areaName,
                   data = commodityRaw.dt, auto.key = TRUE,
                   K = commodityRaw.dt$yieldImputed,
                   ## subscripts = TRUE, scales = list(y = "free"),
                   ## prepanel = function(..., K, subscripts){
                   ##     list(ylim = c(0, max(c(0, K[subscripts]),
                   ##              na.rm = TRUE)))
                   ##     },
                   panel = function(...){
                       panel.xyplot(...,
                                    type = c("g", "l"))
                   },
                   main = gsub("SUA\\.csv", "", i))
        print(yieldPlot)


        yieldPlot =
            xyplot(yieldImputed + yieldValue ~ year|areaName,
                   data = commodityRaw.dt, auto.key = TRUE,
                   K = commodityRaw.dt$yieldImputed,
                   ## subscripts = TRUE, scales = list(y = "free"),
                   ## prepanel = function(..., K, subscripts){
                   ##     list(ylim = c(0, max(c(0, K[subscripts]),
                   ##              na.rm = TRUE)))
                   ##     },
                   panel = function(...){
                       panel.xyplot(...,
                                    type = c("g", "l"))
                   },
                   main = gsub("SUA\\.csv", "", i))
        print(yieldPlot)


        yieldPlot =
            xyplot(yieldImputed + yieldValue ~ year|areaName,
                   data = commodityRaw.dt, auto.key = TRUE,
                   K = commodityRaw.dt$yieldImputed,
                   ## subscripts = TRUE, scales = list(y = "free"),
                   ## prepanel = function(..., K, subscripts){
                   ##     list(ylim = c(0, max(c(0, K[subscripts]),
                   ##              na.rm = TRUE)))
                   ##     },
                   panel = function(...){
                       panel.xyplot(...,
                                    type = c("g", "l"))
                   },
                   main = gsub("SUA\\.csv", "", i))
        print(yieldPlot)


        yieldPlot =
            xyplot(yieldImputed + yieldValue ~ year|areaName,
                   data = commodityRaw.dt, auto.key = TRUE,
                   K = commodityRaw.dt$yieldImputed,
                   ## subscripts = TRUE, scales = list(y = "free"),
                   ## prepanel = function(..., K, subscripts){
                   ##     list(ylim = c(0, max(c(0, K[subscripts]),
                   ##              na.rm = TRUE)))
                   ##     },
                   panel = function(...){
                       panel.xyplot(...,
                                    type = c("g", "l"))
                   },
                   main = gsub("SUA\\.csv", "", i))
        print(yieldPlot)


        yieldPlot =
            xyplot(yieldImputed + yieldValue ~ year|areaName,
                   data = commodityRaw.dt, auto.key = TRUE,
                   K = commodityRaw.dt$yieldImputed,
                   ## subscripts = TRUE, scales = list(y = "free"),
                   ## prepanel = function(..., K, subscripts){
                   ##     list(ylim = c(0, max(c(0, K[subscripts]),
                   ##              na.rm = TRUE)))
                   ##     },
                   panel = function(...){
                       panel.xyplot(...,
                                    type = c("g", "l"))
                   },
                   main = gsub("SUA\\.csv", "", i))
        print(yieldPlot)


        yieldPlot =
            xyplot(yieldImputed + yieldValue ~ year|areaName,
                   data = commodityRaw.dt, auto.key = TRUE,
                   K = commodityRaw.dt$yieldImputed,
                   ## subscripts = TRUE, scales = list(y = "free"),
                   ## prepanel = function(..., K, subscripts){
                   ##     list(ylim = c(0, max(c(0, K[subscripts]),
                   ##              na.rm = TRUE)))
                   ##     },
                   panel = function(...){
                       panel.xyplot(...,
                                    type = c("g", "l"))
                   },
                   main = gsub("SUA\\.csv", "", i))
        print(yieldPlot)


        yieldPlot =
            xyplot(yieldImputed + yieldValue ~ year|areaName,
                   data = commodityRaw.dt, auto.key = TRUE,
                   K = commodityRaw.dt$yieldImputed,
                   ## subscripts = TRUE, scales = list(y = "free"),
                   ## prepanel = function(..., K, subscripts){
                   ##     list(ylim = c(0, max(c(0, K[subscripts]),
                   ##              na.rm = TRUE)))
                   ##     },
                   panel = function(...){
                       panel.xyplot(...,
                                    type = c("g", "l"))
                   },
                   main = gsub("SUA\\.csv", "", i))
        print(yieldPlot)


        yieldPlot =
            xyplot(yieldImputed + yieldValue ~ year|areaName,
                   data = commodityRaw.dt, auto.key = TRUE,
                   K = commodityRaw.dt$yieldImputed,
                   ## subscripts = TRUE, scales = list(y = "free"),
                   ## prepanel = function(..., K, subscripts){
                   ##     list(ylim = c(0, max(c(0, K[subscripts]),
                   ##              na.rm = TRUE)))
                   ##     },
                   panel = function(...){
                       panel.xyplot(...,
                                    type = c("g", "l"))
                   },
                   main = gsub("SUA\\.csv", "", i))
        print(yieldPlot)


        yieldPlot =
            xyplot(yieldImputed + yieldValue ~ year|areaName,
                   data = commodityRaw.dt, auto.key = TRUE,
                   K = commodityRaw.dt$yieldImputed,
                   ## subscripts = TRUE, scales = list(y = "free"),
                   ## prepanel = function(..., K, subscripts){
                   ##     list(ylim = c(0, max(c(0, K[subscripts]),
                   ##              na.rm = TRUE)))
                   ##     },
                   panel = function(...){
                       panel.xyplot(...,
                                    type = c("g", "l"))
                   },
                   main = gsub("SUA\\.csv", "", i))
        print(yieldPlot)


        yieldPlot =
            xyplot(yieldImputed + yieldValue ~ year|areaName,
                   data = commodityRaw.dt, auto.key = TRUE,
                   K = commodityRaw.dt$yieldImputed,
                   ## subscripts = TRUE, scales = list(y = "free"),
                   ## prepanel = function(..., K, subscripts){
                   ##     list(ylim = c(0, max(c(0, K[subscripts]),
                   ##              na.rm = TRUE)))
                   ##     },
                   panel = function(...){
                       panel.xyplot(...,
                                    type = c("g", "l"))
                   },
                   main = gsub("SUA\\.csv", "", i))
        print(yieldPlot)


        yieldPlot =
            xyplot(log(yieldImputed) + log(yieldValue) ~ year|areaName,
                   data = commodityRaw.dt, auto.key = TRUE,
                   K = commodityRaw.dt$yieldImputed,
                   ## subscripts = TRUE, scales = list(y = "free"),
                   ## prepanel = function(..., K, subscripts){
                   ##     list(ylim = c(0, max(c(0, K[subscripts]),
                   ##              na.rm = TRUE)))
                   ##     },
                   panel = function(...){
                       panel.xyplot(...,
                                    type = c("g", "l"))
                   },
                   main = gsub("SUA\\.csv", "", i))
        print(yieldPlot)

dotplot(ranef(yieldModelFull))
?lmer

        yieldPlot =
            xyplot(log(yieldImputed) + log(yieldValue) ~ year|areaName,
                   data = commodityRaw.dt, auto.key = TRUE,
                   K = commodityRaw.dt$yieldImputed,
                   ## subscripts = TRUE, scales = list(y = "free"),
                   ## prepanel = function(..., K, subscripts){
                   ##     list(ylim = c(0, max(c(0, K[subscripts]),
                   ##              na.rm = TRUE)))
                   ##     },
                   panel = function(...){
                       panel.xyplot(...,
                                    type = c("g", "l"))
                   },
                   main = gsub("SUA\\.csv", "", i))
        print(yieldPlot)

yieldModelFull
yieldModelFull
yieldModelFull

        yieldPlot =
            xyplot(log(yieldImputed) + log(yieldValue) ~ year|areaName,
                   data = commodityRaw.dt, auto.key = TRUE,
                   K = commodityRaw.dt$yieldImputed,
                   ## subscripts = TRUE, scales = list(y = "free"),
                   ## prepanel = function(..., K, subscripts){
                   ##     list(ylim = c(0, max(c(0, K[subscripts]),
                   ##              na.rm = TRUE)))
                   ##     },
                   panel = function(...){
                       panel.xyplot(...,
                                    type = c("g", "l"))
                   },
                   main = gsub("SUA\\.csv", "", i))
        print(yieldPlot)


        yieldPlot =
            xyplot(yieldImputed + yieldValue ~ year|areaName,
                   data = commodityRaw.dt, auto.key = TRUE,
                   K = commodityRaw.dt$yieldImputed,
                   ## subscripts = TRUE, scales = list(y = "free"),
                   ## prepanel = function(..., K, subscripts){
                   ##     list(ylim = c(0, max(c(0, K[subscripts]),
                   ##              na.rm = TRUE)))
                   ##     },
                   panel = function(...){
                       panel.xyplot(...,
                                    type = c("g", "l"))
                   },
                   main = gsub("SUA\\.csv", "", i))
        print(yieldPlot)

i = "buckwheatSUA.csv"

        yieldPlot =
            xyplot(yieldImputed + yieldValue ~ year|areaName,
                   data = commodityRaw.dt, auto.key = TRUE,
                   K = commodityRaw.dt$yieldImputed,
                   ## subscripts = TRUE, scales = list(y = "free"),
                   ## prepanel = function(..., K, subscripts){
                   ##     list(ylim = c(0, max(c(0, K[subscripts]),
                   ##              na.rm = TRUE)))
                   ##     },
                   panel = function(...){
                       panel.xyplot(...,
                                    type = c("g", "l"))
                   },
                   main = gsub("SUA\\.csv", "", i))
        print(yieldPlot)


        yieldPlot =
            xyplot(yieldImputed + yieldValue ~ year|areaName,
                   data = commodityRaw.dt, auto.key = TRUE,
                   K = commodityRaw.dt$yieldImputed,
                   ## subscripts = TRUE, scales = list(y = "free"),
                   ## prepanel = function(..., K, subscripts){
                   ##     list(ylim = c(0, max(c(0, K[subscripts]),
                   ##              na.rm = TRUE)))
                   ##     },
                   panel = function(...){
                       panel.xyplot(...,
                                    type = c("g", "l"))
                   },
                   main = gsub("SUA\\.csv", "", i))
        print(yieldPlot)


        yieldPlot =
            xyplot(yieldImputed + yieldValue ~ year|areaName,
                   data = commodityRaw.dt, auto.key = TRUE,
                   K = commodityRaw.dt$yieldImputed,
                   ## subscripts = TRUE, scales = list(y = "free"),
                   ## prepanel = function(..., K, subscripts){
                   ##     list(ylim = c(0, max(c(0, K[subscripts]),
                   ##              na.rm = TRUE)))
                   ##     },
                   panel = function(...){
                       panel.xyplot(...,
                                    type = c("g", "l"))
                   },
                   main = gsub("SUA\\.csv", "", i))
        print(yieldPlot)


        yieldPlot =
            xyplot(yieldImputed + yieldValue ~ year|areaName,
                   data = commodityRaw.dt, auto.key = TRUE,
                   K = commodityRaw.dt$yieldImputed,
                   ## subscripts = TRUE, scales = list(y = "free"),
                   ## prepanel = function(..., K, subscripts){
                   ##     list(ylim = c(0, max(c(0, K[subscripts]),
                   ##              na.rm = TRUE)))
                   ##     },
                   panel = function(...){
                       panel.xyplot(...,
                                    type = c("g", "l"))
                   },
                   main = gsub("SUA\\.csv", "", i))
        print(yieldPlot)

i = "beansGreenSUA.csv"

        yieldPlot =
            xyplot(yieldImputed + yieldValue ~ year|areaName,
                   data = commodityRaw.dt, auto.key = TRUE,
                   K = commodityRaw.dt$yieldImputed,
                   ## subscripts = TRUE, scales = list(y = "free"),
                   ## prepanel = function(..., K, subscripts){
                   ##     list(ylim = c(0, max(c(0, K[subscripts]),
                   ##              na.rm = TRUE)))
                   ##     },
                   panel = function(...){
                       panel.xyplot(...,
                                    type = c("g", "l"))
                   },
                   main = gsub("SUA\\.csv", "", i))
        print(yieldPlot)

any(commodity.dt$yieldImputed < 0)
i = "buckwheatSUA.csv"

        yieldPlot =
            xyplot(yieldImputed + yieldValue ~ year|areaName,
                   data = commodityRaw.dt, auto.key = TRUE,
                   K = commodityRaw.dt$yieldImputed,
                   ## subscripts = TRUE, scales = list(y = "free"),
                   ## prepanel = function(..., K, subscripts){
                   ##     list(ylim = c(0, max(c(0, K[subscripts]),
                   ##              na.rm = TRUE)))
                   ##     },
                   panel = function(...){
                       panel.xyplot(...,
                                    type = c("g", "l"))
                   },
                   main = gsub("SUA\\.csv", "", i))
        print(yieldPlot)


        yieldPlot =
            xyplot(yieldImputed + yieldValue ~ year|areaName,
                   data = commodityRaw.dt, auto.key = TRUE,
                   K = commodityRaw.dt$yieldImputed,
                   ## subscripts = TRUE, scales = list(y = "free"),
                   ## prepanel = function(..., K, subscripts){
                   ##     list(ylim = c(0, max(c(0, K[subscripts]),
                   ##              na.rm = TRUE)))
                   ##     },
                   panel = function(...){
                       panel.xyplot(...,
                                    type = c("g", "l"))
                   },
                   main = gsub("SUA\\.csv", "", i))
        print(yieldPlot)

dir()
source("imputationV31.R")
dev.off()
dev.off()
dev.off()
cat(" ", "commodityWithNegativeYield.txt")
cat(" ", file = "commodityWithNegativeYield.txt")
dev.off()
commodityRaw.dt$yieldImputed
any(commodityRaw.dt$yieldImputed < 0)
any(commodityRaw.dt$yieldImputed < 0, na.rm = TRUE)
length(cereals)
cerealFile
data.table()
cereal.dt
predict.dt
dim(cerealRaw.dt)
dim(cerealRaw.dt)
dim(cerealRaw.dt)
FAOmetaTable
head(FAOmetaTable$itemTable)
FAOmetaTable$itemTable[FAOmetaTable$itemTable$itemCode %in% cereal.dt$itemCode]
FAOmetaTable$itemTable[FAOmetaTable$itemTable$itemCode %in% cereal.dt$itemCode, ]
FAOmetaTable$itemTable[FAOmetaTable$itemTable$itemCode %in% cereal.dt$itemCode, list(itemCode, itemName)]
FAOmetaTable$itemTable[FAOmetaTable$itemTable$itemCode %in% cereal.dt$itemCode, c("itemCode", "itemName")]
unique(FAOmetaTable$itemTable[FAOmetaTable$itemTable$itemCode %in% cereal.dt$itemCode, c("itemCode", "itemName")])
itemName.dt
dim(itemName.dt)
length(cereal)
length(cereals)
str(itemName.dt)
yieldModelFull

    yieldPlot =
        xyplot(yieldImputed + yieldValue ~ year|areaName,
               data = cerealRaw.dt[itemCode == 15, ], auto.key = TRUE,
               K = cerealRaw.dt$yieldImputed,
               panel = function(...){
                   panel.xyplot(...,
                                type = c("g", "l"))
               },
               main = gsub("SUA\\.csv", "", i))
    print(yieldPlot)
warnings()

    yieldPlot =
        xyplot(yieldImputed+yieldImputed2 + yieldValue ~ year|areaName,
               data = cerealRaw.dt[itemCode == 15, ], auto.key = TRUE,
               K = cerealRaw.dt$yieldImputed,
               panel = function(...){
                   panel.xyplot(...,
                                type = c("g", "l"))
               },
               main = gsub("SUA\\.csv", "", i))
    print(yieldPlot)
dev.off()
dev.off()
dev.off()
dev.off()
source("multiCommodityTest.R")
dim(cereal.dt
)
i
cerealRaw.dt
dev.off()
i
yieldPlot
dev.off()
source("multiCommodityTest.R")
end.time - start.time
source("multiCommodityTest.R")
pdf(file = "checkIteractionEffect.pdf", width = 30, height = 20)
for(i in unique(cerealRaw.dt$itemName)){
    yieldPlot =
        xyplot(oldImputation + newImputation + newImputationLog3 +
               newImputationLog5 + newImputationSqrt +yieldValue ~
               year|areaName,
               data = cerealRaw.dt[itemName == i, ], auto.key = TRUE,
               K = cerealRaw.dt$yieldImputed,
               panel = function(...){
                   panel.xyplot(...,
                                type = c("g", "l"))
               },
               main = gsub("SUA\\.csv", "", i))
    print(yieldPlot)
}
dev.off()

dev.off()

pdf(file = "checkIteractionEffect.pdf", width = 30, height = 20)
for(i in unique(cerealRaw.dt$itemName)){
    yieldPlot =
        xyplot(newImputationLog3 + newImputationSqrt + yieldValue ~
               year|areaName,
               data = cerealRaw.dt[itemName == i, ], auto.key = TRUE,
               K = cerealRaw.dt$yieldImputed,
               panel = function(...){
                   panel.xyplot(...,
                                type = c("g", "l"))
               },
               main = gsub("SUA\\.csv", "", i))
    print(yieldPlot)
}
dev.off()

-1.5^2
(-1.5)^2
(-1.5)^1.5
(-1.5)^1
(-1.5)^2
4481/1.65
900 * 1.6
curve(log(x), 1, 10)
curve(log(x, base = 2), 1, 10)
curve(log(x), 1, 10)
curve(exp(x), 1, 10)
curve((x^2), 1, 10, add = TRUE, col = "red)
")
curve((x^2), 1, 10, add = TRUE, col = "red")
curve((x^2), 1, 10, col = "red")
curve((2^x), 1, 10)
curve((x^1.5), -10, 10, col = "red")
YieldModelNewSqrt5
